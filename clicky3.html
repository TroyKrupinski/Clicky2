<!-- ***This is a local clicky***
I had to manually import the file array because I'm not using node.js.
In the future the array will look a lot cleaner and will import the files automatically.
I plan on adding more buttons for certain tags,
and a log button that will make a new txt file 
containing all the swfs you've watched -->

<html>
    <head>
            <link rel="icon" type="image/gif" href="https://pbs.twimg.com/media/DEUtwVjXUAYZ3Ts.png" />
            <meta charset="utf-8">
            <meta name="viewport" content="width=device-width, initial-scale=1">
            <style>
                body{
                    background-color: black;
                    background-image: "https://www.noupe.com/wp-content/uploads/2009/10/pattern-03.jpg"
                    
                }
                .button {
        background-color: purple;
        border: none;
        border-radius: 4px;
        color: white;
        padding: 2px 25px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 12px;
        cursor: pointer;
        margin-top: -40px;
        margin-bottom: -90px;
        font-family: Avantgarde, TeX Gyre Adventor, URW Gothic L, sans-serif;
        padding-bottom: -2;
}
#filedrop{
    color: white;


}
h1{
    font-family: 'Courier New', Courier, monospace;
    font-size: 12;
    color: white;
    float: right;
    position: relative;
    left: -80px;
    top: -10px;
    padding: 0px;
    margin: -5px;
}
h2{
    font-family: 'Courier New', Courier, monospace;
    font-size: 12;
    color: white;
    float: right;
    position: relative;
    left: -100px;
    top: -10px;
    padding: -40px;
    margin: -5px;
}
h3{
    font-family: 'Courier New', Courier, monospace;
    font-size: 12;
    color: white;
    float: right;
    position: relative;
    padding: 0px;
    margin: -5px;
}
h4{
    font-family:'Courier New', Courier, monospace;
    font-size:20;
    margin: -5px;
    color: white;
}
.button2{
    background-color: purple;
    border-radius: 4px;
        border: none;
        color: white;
        padding: 2px 25px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 12px;
        cursor: pointer;
        margin-top: -40px;
        margin-bottom: -90px;
        font-family: Avantgarde, TeX Gyre Adventor, URW Gothic L, sans-serif;
        padding-bottom: -2;
}
.LISTCLASS{
    background-color: purple;
        border: none;
        border-radius: 4px;
        color: white;
        padding: 5px 32px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 12px;
        cursor: pointer;
        margin: 2px;

        font-family: Avantgarde, TeX Gyre Adventor, URW Gothic L, sans-serif;

}
#buttonrepeat{
    background-color: purple;
        border: none;
        color: white;
        border-radius: 4px;
        padding: 2px 25px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 12px;
        cursor: pointer;
        margin-top: -40px;
        margin-bottom: -90px;
        font-family: Avantgarde, TeX Gyre Adventor, URW Gothic L, sans-serif;
        padding-bottom: -2;
}
#button5{
    background-color: purple;
        border: none;
        border-radius: 4px;
        color: white;
        padding:2px 25px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 12px;
        cursor: pointer;
        margin-top: -40px;
        margin-bottom: -90px;
        font-family: Avantgarde, TeX Gyre Adventor, URW Gothic L, sans-serif;
        padding-bottom: -2;
}
#button6{
    background-color: purple;
        border: none;
        border-radius: 4px;
        color: white;
        padding: 2px 25px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 12px;
        cursor: pointer;
        margin-top: -40px;
        margin-bottom: -90px;
        font-family: Avantgarde, TeX Gyre Adventor, URW Gothic L, sans-serif;
        padding-bottom: -2;
}
.button7{
    background-color: purple;
        border: none;
        border-radius: 4px;
        color: white;
        padding: 2px 25px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 12px;
        font-family: Avantgarde, TeX Gyre Adventor, URW Gothic L, sans-serif;
}
#dialog{
    color: white;
    font-size: 20;
}
#wrap{
    display: inline-block;
    
        
}

.bttns{
    position: relative;
    margin-bottom: 0;
    
}
#searchinput{
    width: 120px;
}
#text{

}

@media only screen and (max-width: 1920px) {
    .button {
        padding: 3px 26px;
        font-size: 10px;
    }
    .LISTCLASS{
        padding: 3px 26px;
        font-size: 10px;
    }
    .button2{
        padding: 3px 26px;
        font-size: 10px;
    }
    #button5{
        padding: 3px 26px;
        font-size: 10px;
    }
     #button6{
        padding: 3px 26px;
        font-size: 10px;
    }
    #buttonrepeat{
        padding: 3px 26px;
        font-size: 10px;
    }
}

            </style>
    </head>
<body onload = "tt()">
    

        <div class = "bttns">
        <button class = "button" onclick="myFunction()">clicky</button>
        <button class = "button" onclick="function3()">clicky2</button>
        <button class = "button" onclick="function4()">clicky3</button>
        <button class = "button" onclick="function5()">clicky4</button>
        <button class = "button" onclick="back()">←</button>
        <button class = "button" onclick="forward()">→</button>
        <button class = "button" onclick="ca()">Clear</button>
        <button class = "button" onclick="functionTwo()">Reset</button>
        <button id = "buttonrepeat" onclick="play()">Repeating</button>
        <button class = "button" onclick="replay()">Replay</button>
        <button class = "button" onclick = "favorite()">Favorite</button>
        <button class = "button" onclick = "fav()">Favorites</button>
        <!-- <button class = "button" onclick = "favalert()">Save Favorites</button> -->
         <button class = "button" onclick = "clearfav()">Clear Favorites</button>
        <button class = "button" onclick = "first()">First</button>
        <button class = "button" onclick = "last()">Last</button>
        <button id = "button6" onclick = "randomness()">Random?</button>
        <button id = "button5" onclick = "controls()">Disable Keyboard Controls</button>
        
        <h1><p id = "text"></p></h1>

        
        <h2><p id = "mu"></p></h2>
        <h2><p id = "rept"> </p>    </h2>
        <button class = "button2">History</button>
        <button class = "button" onclick = "UIshow()">Hide UI</button>
        <!-- <button class = "button" onclick = "filed()">↑</button> -->
    
        <button class = "button" onclick = "searchdialog()">Search</button>
            
            <input id="the-file-input" type="file">
            
    </div>
    

       
        
        <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
        <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
        
        
        <script type = "text/javascript">
            var sound = new Audio("sound.mp3")
            var favs = [];
            var random = true;
            var allfavs = localStorage.getItem('favorites');
            favs2 = [];
            var multi = new Number(0);
            var position = 0;
            var test = "test";
            var cache = [];
            var savedfav = [];
            localcache = [];
            localcache2 = [];
            var place = 0;
            var placefav = 0;
            var dialogtoggle2 = false;
            localcache3 = [];
            localcache4 = [];
            localcache5 = [];
            favcache = [];
            favcache2 = []
            lastcache = cache.length - 1;
            var favorites = [];
            
            // favorites = JSON.parse(localStorage.getItem("array"));
            
            console.log(favorites);

            function tt(){
                document.getElementById("mu").innerHTML = "Playing:";
                favalert();
               
                
            }
    var ar = []
    var ar2 = []
    var ar3 = []
    var ar4 = []
  var too = false;
    $("#dialog").hide();
    var arall = ar.concat(ar2, ar3, ar4);
    console.log(random)
    function randomness(){

        if(random == true){
            
            document.getElementById("button6").style.backgroundColor = "gray";
               random = false;
                        
        }
        else{
         
          document.getElementById("button6").style.backgroundColor = "purple";
             random = true;
                    
        }
    }
    $("#the-file-input").change(function(event) {
        var file = this.files[0].name;
        url = URL.createObjectURL(this.files[0])
        document.getElementById("myFrame").src = url;
        cache.push(file);
       document.getElementById("text").innerHTML = file;
       console.log(cache);
});
    function search(e){
        e.preventDefault();

        input = document.getElementById("searchinput").value;
        console.log(input)
        document.getElementById("myFrame").src = input;
        cache.push(input);
        
       document.getElementById("text").innerHTML = input;
       document.getElementById("searchinput").value = '';
    }
    function turnoff(e){
 
        cntrl = true;
                        document.getElementById("button5").innerHTML = enabled;
                        document.getElementById("button5").style.backgroundColor = "gray";
                        console.log("enable");
    }

                function apnnd(){
                    recent = cache.length -1;
                    var ee = $("<button>")
                    ee.text(cache[cache.length-1]);                    
                    ee.addClass("LISTCLASS");
                    ee.attr("filename", cache[cache.length-1]);
                    ee.attr("pos", recent);
                    
                    $("#dialog").append("<br>");
                    
                     $("#dialog").append(ee);
                     if(too == false){
                     $("#dialog").hide();
                     }
                     else{

                     }
                     
                    too = true;
                     $(".LISTCLASS").on("click", function () {
                        $('html,body').scrollTop(0);
                        document.getElementById("myFrame").src = ($(this).attr("filename"));
                        document.getElementById("text").innerHTML = ($(this).attr("filename"));
                        position = ($(this).attr("pos"));
                        console.log(position);

                });
                    
                     
                }
               
                $("#dialog").hide();
               
                    
                    
               
                


                $(".button").click(
                    
                    function(){
                        console.log($(".LISTCLASS").html());
                        apnnd();
                    }
                );
                
      

                
    
                function clearfav(){
                    localStorage.clear();
                    localStorage.setItem('array', '');
                }
                function myFunction(Number) {
                    sound.play();
                    favorites[0] = 1;
                    var randomItem = ar[Math.floor(Math.random()*ar.length)];
                    console.log(multi);
                    multi = multi;
                 
                    if(random == false){
                            document.getElementById("myFrame").src = ar[place];
                             cache.push(ar[place]);
                             place++;
                              document.getElementById("text").innerHTML = ar[place];
                    }
                    else{
                    var x = 0;
                    if (multi == 0){
                        document.getElementById("myFrame").src = randomItem;
                        cache.push(randomItem);
                    }
                    else{
                    

                    while (x == 0){
                        console.log("a");
                        console.log(cache.length);
                        console.log(ar.length);

                    for (i = 0; i <= localcache4.length; i++){
                        includes = localcache4.includes(randomItem);
                        console.log("b");
                        if (includes == true){
                            console.log("3");
                            if(localcache4.length >= ar.length){
                                console.log("TEst");
                            document.getElementById("myFrame").src = "eromanga.jpg";
                            break;
                            x = 1;
                        }
                            else{
                                
                                randomItem = ar[Math.floor(Math.random()*ar.length)];
                                console.log(test);
                                
                                
                            }
                        }
                        else{
                            document.getElementById("myFrame").src = randomItem;
                            cache.push(randomItem);
                            localcache4.push(randomItem);
                            console.log(localcache4);
                            console.log("aaaa");
                            x = 1;
                            break;
                            
                        }
                    }
                    x = 1; 
                    break;
                    }
                }
                    
                    document.getElementById("text").innerHTML = randomItem;
                    }     

                    position = cache.length - 1;
                    
                    
                    
                }
                function functionTwo(Number){
                    document.getElementById("myFrame").src = "eromanga.jpg";
                }
                function function3(Number){
                    
                    var randomItem = ar2[Math.floor(Math.random()*ar2.length)];
                    console.log(multi);
                    multi = multi;

                    var x = 0;
                    if (multi == 0){
                        document.getElementById("myFrame").src = randomItem;
                        cache.push(randomItem);
                    }
                    else{
                    

                    while (x == 0){
                        console.log("a");
                        console.log(cache.length);
                        console.log(ar2.length);

                    for (i = 0; i <= localcache2.length; i++){
                        includes = localcache2.includes(randomItem);
                        console.log("b");
                        if (includes == true){
                            console.log("3");
                            if(localcache2.length >= ar2.length){
                                console.log("TEst");
                            document.getElementById("myFrame").src = "eromanga.jpg";
                            break;
                            x = 1;
                        }
                            else{
                                
                                randomItem = ar2[Math.floor(Math.random()*ar2.length)];
                                console.log(test);
                                
                                
                            }
                        }
                        else{
                            document.getElementById("myFrame").src = randomItem;
                            cache.push(randomItem);
                            localcache2.push(randomItem);
                            console.log(localcache2);
                            console.log("aaaa");
                            x = 1;
                            break;
                            
                        }
                    }
                    x = 1; 
                    break;
                    }
                }
                    
                    
                            

                    position = cache.length - 1;
                    document.getElementById("text").innerHTML = randomItem;

                }
                function function4(Number){
                    
                    var randomItem = ar3[Math.floor(Math.random()*ar3.length)];
                    console.log(multi);
                    multi = multi;

                    var x = 0;
                    if (multi == 0){
                        document.getElementById("myFrame").src = randomItem;
                        cache.push(randomItem);
                    }
                    else{
                    

                    while (x == 0){
                        console.log("a");
                        console.log(cache.length);
                        console.log(ar3.length);

                    for (i = 0; i <= localcache.length; i++){
                        includes = localcache.includes(randomItem);
                        console.log("b");
                        if (includes == true){
                            console.log("3");
                            if(localcache.length >= ar3.length){
                                console.log("TEst");
                            document.getElementById("myFrame").src = "eromanga.jpg";
                            break;
                            x = 1;
                        }
                            else{
                                
                                randomItem = ar3[Math.floor(Math.random()*ar3.length)];
                                console.log(test);
                                
                                
                            }
                        }
                        else{
                            document.getElementById("myFrame").src = randomItem;
                            cache.push(randomItem);
                            localcache.push(randomItem);
                            console.log(localcache);
                            console.log("aaaa");
                            x = 1;
                            break;
                            
                        }
                    }
                    x = 1; 
                    break;
                    }
                }
                    
                    
                            

                    position = cache.length - 1;
                    document.getElementById("text").innerHTML = randomItem;
                }
                        



                
                function function5(Number){
                    var randomItem = ar4[Math.floor(Math.random()*ar4.length)];
                    console.log(multi);
                    multi = multi;

                    var x = 0;
                    if (multi == 0){
                        document.getElementById("myFrame").src = randomItem;
                        cache.push(randomItem);
                    }
                    else{
                    

                    while (x == 0){
                        console.log("a");
                        console.log(cache.length);
                        console.log(ar4.length);

                    for (i = 0; i <= localcache3.length; i++){
                        includes = localcache3.includes(randomItem);
                        console.log("b");
                        if (includes == true){
                            console.log("3");
                            if(localcache3.length >= ar4.length){
                                console.log("TEst");
                            document.getElementById("myFrame").src = "eromanga.jpg";
                            break;
                            x = 1;
                        }
                            else{
                                
                                randomItem = ar4[Math.floor(Math.random()*ar4.length)];
                                console.log(test);
                                
                                
                            }
                        }
                        else{
                            document.getElementById("myFrame").src = randomItem;
                            cache.push(randomItem);
                            localcache3.push(randomItem);
                            console.log(localcache3);
                            console.log("aaaa");
                            x = 1;
                            break;
                            
                        }
                    }
                    x = 1; 
                    break;
                    }
                }
                    
                    
                            

                    position = cache.length - 1;
                    document.getElementById("text").innerHTML = randomItem;

                }
                function back(Number){
                    
                    if (position <= 0){

                    }
                    else{
                    position--;
                    console.log(position);
                    
                }
                    document.getElementById("myFrame").src = cache[position];
                  
                    document.getElementById("text").innerHTML = cache[position];

                }
                function forward(Number){
                    if (position >= cache.length + 1){

                 }
                else{
                position++;
                console.log(position);

                }
                if(position >= cache.length - 1){
                    position = cache.length - 1;
                }
                document.getElementById("myFrame").src = cache[position];
                   
                    document.getElementById("text").innerHTML = cache[position];
                }
                function ca(){
                    localcache = localcache;
                    console.log(localcache);
                    console.log("Clearing");
                cache.length = 0;
                localcache.length = 0;
                localcache2.length = 0;
                localcache3.length = 0;
                localcache4.length = 0;
                localcache5.length = 0;
                favcache.length = 0;
                console.log(cache);
                
                }
                
                   
                
                function play(Number){
                    console.log(multi);
                    if (multi == 0){
                        multi = 1
                        document.getElementById("buttonrepeat").innerHTML = "Not Repeating";
                        document.getElementById("buttonrepeat").style.backgroundColor = "blue";
                    }
                    else{
                        multi = 0;
                        document.getElementById("buttonrepeat").innerHTML = "Repeating";
                        document.getElementById("buttonrepeat").style.backgroundColor = "purple";
                    }
                    
                }
                function replay(){
                    document.getElementById("myFrame").src = cache[position];
                }
                function favorite(){
                    sound.play()
                    favcache.push(cache[position]);
                    favcache2.push("'" + cache[position] + "'");
                    console.log(favcache);
                    favcache = favcache;
                    favalert()
                    // document.getElementById("Fav").innerHTML = " " + favcache + " ";
                   
                }
                function fav(Number){
                  var randomItem = savedfav[Math.floor(Math.random()*savedfav.length)];
                  console.log(savedfav)
                    console.log(multi);
                    multi = multi;

                    var x = 0;
                     if(random == false){
                            document.getElementById("myFrame").src = savedfav[placefav];
                             cache.push(savedfav[placefav]);
                              if (placefav == savedfav.length){
                                  placefav = 0;
                                  document.getElementById("myFrame").src = savedfav[placefav];
                              }
                              else{
                                  document.getElementById("text").innerHTML = savedfav[placefav];
                             placefav++;
                              }
                              
                             
                    }
                    else{
                    if (multi == 0){
                        document.getElementById("myFrame").src = randomItem;
                        cache.push(randomItem);
                    }
                    else{
                    

                    while (x == 0){
                        console.log("a");
                        console.log(cache.length);
                        console.log(savedfav.length);

                    for (i = 0; i <= localcache5.length; i++){
                        includes = localcache5.includes(randomItem);
                        console.log("b");
                        if (includes == true){
                            console.log("3");
                            if(localcache5.length >= savedfav.length){
                                console.log("TEst");
                            document.getElementById("myFrame").src = "eromanga.jpg";
                            
                            break;
                            x = 1;
                        }
                            else{
                                
                                randomItem = savedfav[Math.floor(Math.random()*savedfav.length)];
                                console.log(test);
                                
                                
                            }
                        }
                        else{
                            document.getElementById("myFrame").src = randomItem;
                            cache.push(randomItem);
                            localcache5.push(randomItem);
                            console.log(localcache5);
                            console.log("aaaa");
                            x = 1;
                            break;
                            
                        }
                    }
                    x = 1; 
                    break;
                    }
                }
                document.getElementById("text").innerHTML = randomItem;
                    }
                    
                            

                    position = cache.length - 1;
                   

                }
                function favalert(){
                    var test = localStorage.getItem('array')
                    
                    test = test.concat(",");

                    var test2 = test.concat(JSON.stringify(favcache));
  
                    test2 = test2.replace(/[[\]]/g,'');
                    test2 = test2.replace(/['"]+/g, '')
                    console.log(test2);
                    localStorage.setItem("array", test2);
                    savedfav = test2.split(",")
                    
                savedfav = savedfav.filter(function (el) {
                        return el != "";
                        });
                        savedfav = savedfav.filter(function (el) {
                        return el != null;
                        });
                        savedfav = savedfav.filter(function (el) {
                        return el != undefined;
                        });
                       favcache = []; 
                       
                }
                function first(){
                    console.log(localStorage.getItem('array'))

                document.getElementById("myFrame").src = cache[0];
                    console.log(position);
                    console.log(cache);
                    document.getElementById("text").innerHTML = cache[0];
                    position = 0;
                }
                function last(){
                    lastcache = cache.length - 1;
                    console.log(lastcache);
                    console.log(cache[lastcache]);
                    document.getElementById("myFrame").src = cache[lastcache];
                    document.getElementById("text").innerHTML = cache[lastcache];
                    position = lastcache;
                }
                tog = false;
                $(".button2").click(
                    function(){
                        if(tog == false){
                            dialogtoggle = true;
                        console.log('test');
                        $('#dialog').dialog({ 
              width: 300,
              
              modal: true,
              position: { at: "right top+9%" },
              show:"slideDown",
              hide:{ effect: 'fold', delay: 20, duration: 200, easing: 'easeInQuad' } 
    });
                        tog = true;
                        }
                        else{
                            $( "#dialog" ).dialog('close');
                            dialogtoggle = false;
                            tog = false
                        }
                        
                    }
                );
                
                function UIshow(){
                    $(".bttns").fadeToggle(200).delay(200);
                  
                }
                var cntrl = false;
                
                var enabled = "Enable Keyboard Controls";
                var disabled = "Disable Keyboard Controls";
                function controls(){
                    if(cntrl == false){
                        cntrl = true;
                        document.getElementById("button5").innerHTML = enabled;
                        document.getElementById("button5").style.backgroundColor = "gray";
                        console.log("enable");
                    }
                    else{
                        cntrl = false;
                        document.getElementById("button5").innerHTML = disabled;
                        document.getElementById("button5").style.backgroundColor = "purple";
                        console.log("disable");
                    }
                }
               var dialogtoggle = false;
                document.addEventListener('keydown', (event) => {
                    var x = event.key;
                    if(cntrl == false){
                    if (event.ctrlKey) {
                        UIshow();
                    }
                    if(x == "r" || x == "R"){
                        replay();
                        if(document.getElementById("myFrame").src == null){
                            
                        }
                        else{
                            console.log(document.getElementById("myFrame").src);
                        }
                    }
                    else if (event.keyCode == '37') {
                    back();
                    }
                    else if (event.keyCode == '39') {
                    forward();
                    }   
                    if(x == "1" || x == "1"){
                        myFunction();
                        apnnd();
                    }
                    if(x == "2" || x == "2"){
                        function3();
                        apnnd();
                    }      
                    if(x == "3" || x == "3"){
                        function4();
                        apnnd();
                    }      
                    if(x == "4" || x == "4"){
                        function5();
                        apnnd();
                    } 
                    if(x == "5"){
                        fav();
                    }
                    if(x == "s" || x == "S"){
                        searchdialog()
                    }
                    if(x == "c" || x == "C"){
                        if(dialogtoggle == false){
                            $('#dialog').dialog({ 
              width: 300,
              modal: true,
              position: { at: "right top+9%" },
              show:"slideDown",
              hide:{ effect: 'fold', delay: 20, duration: 200, easing: 'easeInQuad' }, 
             
    });
                        dialogtoggle = true;
                        tog = true;
                        }
                        else{
                            
                            $( "#dialog" ).dialog('close');
                            tog = false
                            dialogtoggle = false;

                        }
                        
                    }
                }
                else{

                }                    

                }, false);
                if($('#dialog').dialog('isOpen') == true){
                    $("#dialog").hide();

}
else{
    $("#dialog").hide();
}

function filed(){
    // $("#text").html('');
    // $("#filedrop").show();
    // $("#myFrame").hide();
    // document.addEventListener('keydown', (event) => {
    //     var x = event.key;
    //     if (event.altKey) {
    //         $("#filedrop").hide();
    //          $("#myFrame").show();
    //     }

    // }, false);
}
function dragOverHandler(ev) {
        console.log('File(s) in drop zone'); 
        ev.preventDefault();
        // $("#oh").html('<center>:O</center>')
}
function dropHandler(ev) {
        ev.preventDefault();
        var file = ev.dataTransfer.items[0].getAsFile();
        var filename = ev.dataTransfer.files[0].name;
        console.log(filename);
        url = URL.createObjectURL(file)
        document.getElementById("myFrame").src = url;
        cache.push(url);
       document.getElementById("text").innerHTML = filename;
//         $("#filedrop").hide();
//         $("#myFrame").show();
}
$('#text').bind("DOMSubtreeModified",function(){
   localleng = JSON.stringify($("#text").html());
   console.log(localleng)
   console.log(localleng.length)
  if(localleng.length > 30){
      console.log("long");
      $("#text").css("font-size", "10");
      if(localleng.length > 50){
        $("#text").css("font-size", "8");
      }
  }
  else{
      console.log("short")
      $("#text").css("font-size", "12");
  }
 if(document.getElementById("myFrame").src == "eromanga.jpg"){
     console.log('test')
 }
});
$("#myFrame").bind("DOMSubtreeModified",function(){
    
});
function searchdialog(){
    $("#searchinput").val('');
    if(dialogtoggle2 == false){
        $('#dialog2').dialog({ 
              width: 300,
              modal: true,
              position: { at: "left top+9%" },
              show:"slideDown",
              hide:{ effect: 'fold', delay: 20, duration: 200, easing: 'easeInQuad' }, 
             
    });
    dialogtoggle2 = true;
    }
    else{
        $( "#dialog2" ).dialog('close')
        dialogtoggle2 = false;
    }

    
}
function listing(){
    var input
    var count = 0
    var otherc = 0
    var testing = 0
    input = $("#searchinput").val();
    length = input.length;
    $("#searchresult").html('');
    console.log(input)

        for(x = 0; x < arall.length; x++){
        if (arall[x].search(input) == -1) {
            console.log("skipping");

        } 
        else{
        console.log(arall[x]);
        var ee = $("<button>")
        ee.text(arall[x]);                    
        ee.attr("filename", arall[x]);
        ee.addClass("searches");
        ee.addClass("button7");
            
        $("#searchresult").append("<br>")
        $("#searchresult").append(ee)


        $(".searches").on("click", function () {
            filename = $(this).attr("filename");
            document.getElementById("myFrame").src = filename;
            document.getElementById("text").innerHTML = filename;
            $("#myFrame").show();
            $("#drop_zone").hide()
            $("#the-file-input").hide();

            });
            otherc++
        if(otherc > 20){
            break;
                
            }
            else{
                console.log('notdone');
            }
      
        }
        }
    
    
}

$(document).ready(function(){
    play();
    $("#dialog2").hide();
// $("#filedrop").hide();
});
                </script>
               
               <div id="filedrop" ondrop="dropHandler(event);" ondragover="dragOverHandler(event);">
                

        <OBJECT classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0" WIDTH="100%" HEIGHT="98.5%" id="MyLink" ALIGN="">
            <PARAM NAME=movie VALUE="" id ="myLink"> <PARAM NAME=quality VALUE=high>  <EMBED src = "eromanga.jpg" id="myFrame" quality=high WIDTH="100%" HEIGHT="98.5%" NAME="Yourfilename" ALIGN="" TYPE="application/x-shockwave-flash" PLUGINSPAGE="http://www.macromedia.com/go/getflashplayer"></EMBED> </OBJECT>
                
              
                    <!-- <p> <center>Drag and drop a file</center></p>
                    <p><center>Press alt to reset</center></p>
                    <p id = "oh"></p> -->
                    </div>
               

           
            

            <div id ="dialog">
            </div>
            <div id = "dialog2">
                <form id = "wrap" onsubmit="search(event)" onkeyup="turnoff()" onkeyup="controls()" autocomplete="off">
                    <input type="text" id="searchinput" onkeyup = "listing()" placeholder="Search for a swf" title="Type in a swf" autocomplete="off">   
                    </form>
                    <div id = "searchresult">

                    </div>
            </div>
           
</body>
</html>
